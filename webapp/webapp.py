import os
from flask import Flask, request, redirect, url_for
from werkzeug.utils import secure_filename
from config import *
from flask import render_template
import csv
import json
app = Flask(__name__)

if not os.path.exists(UPLOAD_FOLDER):
    os.makedirs(UPLOAD_FOLDER)
app.config['UPLOAD_FOLDER'] = UPLOAD_FOLDER
import time
import pickle

###########################
#socket io:
###########################
'''
import socketio
import eventlet
import eventlet.wsgi
sio = socketio.Server()

@sio.on('connect', namespace='/chat')
def connect(sid, environ):
    print("connect ", sid)

@sio.on('chat message', namespace='/chat')
def message(sid, data):
    print("message ", data)
    sio.emit('reply', room=sid)

@sio.on('disconnect', namespace='/chat')
def disconnect(sid):
    print('disconnect ', sid)
'''
###########################


def allowed_file(filename):
    return '.' in filename and \
           filename.rsplit('.', 1)[1].lower() in ALLOWED_EXTENSIONS

@app.route('/', methods=['GET', 'POST'])
def index():
    if request.method == 'POST':
        request_data = request.get_json()
        print('request_data', request_data)
        print('request_data', type(request_data))
        print('request_data_0', type(request_data[0]))

        #1. Get time series data from json, convert to list

        #2.predict the value

        #3. Send it to ios

        #Load model
        filename = './ml/svm/finalized_model.sav'
        clf2 = pickle.load(open(filename, 'rb'))
        time.sleep(0.1)

        print(clf2.predict([request_data]))

        '''
        # apple
        test_sample = [13.13263508115952, 12.06842060290004, 11.004206124640557, 9.939991646381078, 8.875777168121596, 7.811562689862113, 4.9539948411356365, 2.0964269924091585, -0.7611408563173185, -3.618708705043797, -6.476276553770276, -4.365339662537326, -2.254402771304376, -0.14346588007142547, 1.9674710111615248, 4.078407902394473, 8.290107837014848, 12.50180777163522, 16.71350770625559, 20.925207640875964, 25.136907575496334, 27.681748538216613, 30.2265895009369, 32.771430463657175, 35.31627142637746, 37.86111238909774, 40.610031805572646, 43.358951222047565, 46.10787063852247, 48.85679005499739, 51.6057094714723, 55.79494281239871, 59.984176153325116, 64.17340949425153, 68.36264283517795, 72.55187617610436, 80.55697016223868, 88.56206414837303, 96.56715813450735, 104.57225212064169, 112.577346106776, 122.36019292862193, 132.14303975046784, 141.92588657231374, 151.70873339415962, 161.49158021600553, 174.3600362801795, 187.2284923443534, 200.09694840852737, 212.96540447270127, 225.83386053687528, 243.00120613330705, 260.1685517297388, 277.3358973261706, 294.5032429226024, 311.67058851903414, 336.93146186625563, 362.192335213477, 387.4532085606985, 412.71408190791993, 437.97495525514137, 474.3079091299469, 510.64086300475236, 546.9738168795577, 583.3067707543632, 619.6397246291688, 669.9106422657861, 720.1815599024037, 770.4524775390213, 820.7233951756385, 870.9943128122563, 930.5987132010956, 990.2031135899347, 1049.8075139787738, 1109.4119143676132, 1169.0163147564524, 1237.7281634460212, 1306.4400121355902, 1375.151860825159, 1443.8637095147278, 1512.5755582042968, 1593.5204943294702, 1674.4654304546436, 1755.4103665798168, 1836.355302704991, 1917.3002388301638, 1998.3971879161413, 2079.4941370021193, 2160.5910860880967, 2241.6880351740733, 2322.784984260051, 2402.6195609153306, 2482.4541375706103, 2562.2887142258905, 2642.1232908811703, 2721.95786753645, 2795.978179830108, 2869.998492123766, 2944.018804417424, 3018.039116711082, 3092.05942900474, 3160.8084434675648, 3229.557457930389, 3298.306472393215, 3367.055486856039, 3435.804501318864, 3503.465531739157, 3571.1265621594503, 3638.787592579743, 3706.448623000036, 3774.109653420329, 3828.0076368226783, 3881.9056202250263, 3935.803603627376, 3989.7015870297246, 4043.599570432074, 4101.932103706791, 4160.264636981508, 4218.5971702562265, 4276.929703530945, 4335.262236805662, 4386.8548719293985, 4438.447507053134, 4490.040142176871, 4541.632777300608, 4593.225412424345, 4640.17253156254, 4687.119650700735, 4734.066769838932, 4781.013888977126, 4827.961008115321, 4866.724494469434, 4905.487980823546, 4944.251467177658, 4983.01495353177, 5021.778439885882, 5053.71986582037, 5085.661291754856, 5117.602717689342, 5149.544143623829, 5181.4855695583165, 5202.666209749145, 5223.846849939975, 5245.027490130807, 5266.2081303216355, 5287.388770512465, 5301.729979839258, 5316.071189166049, 5330.412398492842, 5344.7536078196335, 5359.094817146426, 5366.181127956499, 5373.267438766572, 5380.353749576645, 5387.440060386718, 5394.526371196791, 5399.675291232788, 5404.824211268788, 5409.973131304786, 5415.122051340784, 5420.270971376783, 5414.953969762886, 5409.63696814899, 5404.319966535092, 5399.002964921195, 5393.685963307298, 5385.300223101101, 5376.914482894905, 5368.528742688709, 5360.143002482512, 5351.7572622763155, 5341.049756736883, 5330.3422511974495, 5319.634745658018, 5308.927240118585, 5298.219734579153, 5286.471942559526, 5274.7241505399, 5262.976358520272, 5251.228566500645, 5239.480774481018, 5223.757519764845, 5208.034265048671, 5192.311010332498, 5176.587755616324, 5160.864500900151, 5137.7221130030275, 5114.579725105906, 5091.437337208784, 5068.294949311661, 5045.152561414538, 5022.761447868854, 5000.370334323169, 4977.979220777484, 4955.5881072318, 4933.196993686115, 4909.3103522586125, 4885.423710831109, 4861.5370694036055, 4837.650427976103, 4813.7637865485995, 4790.291266226155, 4766.81874590371, 4743.346225581266, 4719.87370525882, 4696.401184936376, 4675.277968317856, 4654.154751699337, 4633.031535080817, 4611.908318462298, 4590.785101843778, 4571.065971932918, 4551.346842022057, 4531.627712111197, 4511.908582200336, 4492.189452289475, 4474.497418169162, 4456.805384048849, 4439.113349928535, 4421.421315808222, 4403.729281687908, 4378.371640000635, 4353.013998313362, 4327.656356626088, 4302.2987149388155, 4276.941073251543, 4251.732628063001, 4226.524182874462, 4201.315737685923, 4176.107292497381, 4150.898847308841, 4128.311327670691, 4105.723808032541, 4083.13628839439, 4060.5487687562404, 4037.961249118089, 4023.695928191007, 4009.4306072639256, 3995.165286336844, 3980.899965409762, 3966.6346444826795, 3956.955260521197, 3947.2758765597137, 3937.596492598231, 3927.917108636747, 3918.2377246752644, 3912.2973328506014, 3906.35694102594, 3900.4165492012776, 3894.4761573766164, 3888.5357655519533, 3886.184034934119, 3883.832304316285, 3881.480573698451, 3879.1288430806176, 3876.777112462784, 3873.596585759381, 3870.4160590559773, 3867.2355323525744, 3864.055005649171, 3860.874478945768, 3848.9352347116082, 3836.9959904774487, 3825.056746243289, 3813.117502009129, 3801.178257774969, 3784.506316931322, 3767.834376087675, 3751.1624352440276, 3734.490494400381, 3717.8185535567336, 3696.6982413126257, 3675.577929068519, 3654.457616824412, 3633.337304580304, 3612.216992336197, 3587.65732452104, 3563.0976567058838, 3538.537988890727, 3513.97832107557, 3489.418653260413, 3465.2894423981083, 3441.1602315358036, 3417.0310206734985, 3392.9018098111933, 3368.772598948889, 3348.424315238964, 3328.0760315290404, 3307.7277478191163, 3287.3794641091918, 3267.031180399268, 3250.1680741859423, 3233.3049679726173, 3216.441861759291, 3199.5787555459656, 3182.7156493326397, 3174.0428567809204, 3165.370064229201, 3156.697271677482, 3148.024479125763, 3139.3516865740435, 3136.3149303946034, 3133.2781742151637, 3130.2414180357237, 3127.204661856284, 3124.1679056768435, 3126.462752815693, 3128.7575999545425, 3131.0524470933924, 3133.347294232242, 3135.6421413710914, 3138.396039052845, 3141.1499367345978, 3143.903834416352, 3146.657732098105, 3149.411629779859, 3149.1136248527373, 3148.8156199256164, 3148.5176149984954, 3148.219610071374, 3147.921605144253, 3143.226963082093, 3138.532321019933, 3133.837678957773, 3129.1430368956126, 3124.4483948334528, 3116.5831494669756, 3108.717904100498, 3100.8526587340198, 3092.9874133675426, 3085.122168001065, 3074.988573090107, 3064.8549781791494, 3054.7213832681905, 3044.5877883572325, 3034.4541934462745, 3013.9520630257903, 2993.4499326053065, 2972.9478021848217, 2952.4456717643384, 2931.9435413438537, 2905.1118411151, 2878.280140886345, 2851.4484406575903, 2824.6167404288362, 2797.7850402000813, 2772.781664896768, 2747.778289593453, 2722.774914290139, 2697.771538986825, 2672.768163683511, 2649.2295720216603, 2625.690980359809, 2602.152388697958, 2578.6137970361074, 2555.0752053742567, 2537.346812114491, 2519.618418854726, 2501.890025594961, 2484.1616323351955, 2466.4332390754307, 2453.189442821716, 2439.9456465680028, 2426.701850314288, 2413.458054060575, 2400.21425780686, 2386.751721039953, 2373.289184273045, 2359.8266475061373, 2346.36411073923, 2332.901573972323, 2319.171248550584, 2305.440923128846, 2291.7105977071074, 2277.9802722853688, 2264.24994686363, 2251.108962509585, 2237.9679781555396, 2224.8269938014946, 2211.686009447449, 2198.545025093404, 2189.0406357732113, 2179.536246453019, 2170.0318571328266, 2160.5274678126348, 2151.023078492442, 2144.0862156708254, 2137.149352849209, 2130.2124900275926, 2123.2756272059764, 2116.33876438436, 2110.200848076823, 2104.062931769286, 2097.9250154617494, 2091.7870991542122, 2085.649182846676, 2080.592265224706, 2075.535347602736, 2070.478429980766, 2065.421512358796, 2060.3645947368263]
        print(clf2.predict([test_sample]))

        # paprika:
        test_sample = [905.3942170648744, 947.0207995487916, 988.6473820327092, 1030.2739645166264, 1071.9005470005438, 1113.5271294844613, 1149.452249059781, 1185.3773686351008, 1221.3024882104205, 1257.2276077857402, 1293.15272736106, 1315.2466331392086, 1337.3405389173568, 1359.4344446955051, 1381.5283504736535, 1403.6222562518021, 1398.28973207246, 1392.9572078931185, 1387.624683713777, 1382.2921595344349, 1376.959635355093, 1353.4269713253748, 1329.8943072956565, 1306.361643265938, 1282.8289792362198, 1259.2963152065015, 1224.9342190151053, 1190.5721228237092, 1156.2100266323132, 1121.847930440917, 1087.4858342495206, 1048.1269712238302, 1008.7681081981397, 969.4092451724488, 930.0503821467585, 890.6915191210678, 854.8960738378702, 819.1006285546729, 783.3051832714755, 747.5097379882782, 711.7142927050808, 685.1875493193755, 658.6608059336703, 632.1340625479651, 605.6073191622597, 579.0805757765546, 564.1454448522283, 549.210313927902, 534.2751830035756, 519.3400520792493, 504.4049211549231, 497.4877626715165, 490.5706041881099, 483.65344570470336, 476.73628722129683, 469.81912873789014, 486.53947393744033, 503.25981913699053, 519.9801643365407, 536.7005095360909, 553.420854735641, 577.8177618428241, 602.2146689500072, 626.6115760571904, 651.0084831643736, 675.4053902715568, 716.8313499553784, 758.2573096392001, 799.6832693230217, 841.1092290068434, 882.5351886906651, 936.6899405696382, 990.8446924486113, 1044.9994443275843, 1099.1541962065576, 1153.3089480855306, 1217.1556957442908, 1281.0024434030506, 1344.849191061811, 1408.6959387205713, 1472.5426863793314, 1552.0809041882785, 1631.6191219972256, 1711.1573398061726, 1790.6955576151197, 1870.2337754240664, 1948.5571593016875, 2026.8805431793078, 2105.2039270569285, 2183.5273109345494, 2261.85069481217, 2340.1102342237355, 2418.369773635301, 2496.629313046866, 2574.888852458432, 2653.148391869997, 2724.3134044702388, 2795.478417070481, 2866.6434296707234, 2937.808442270965, 3008.973454871207, 3069.5167800191557, 3130.0601051671056, 3190.6034303150554, 3251.146755463005, 3311.6900806109547, 3370.022752495917, 3428.3554243808785, 3486.688096265841, 3545.020768150803, 3603.353440035765, 3639.342283350329, 3675.331126664893, 3711.3199699794563, 3747.30881329402, 3783.297656608584, 3814.822381668249, 3846.3471067279133, 3877.8718317875773, 3909.396556847242, 3940.921281906908, 3969.2561174370135, 3997.590952967119, 4025.925788497225, 4054.26062402733, 4082.595459557436, 4106.8850567956815, 4131.174654033929, 4155.464251272176, 4179.753848510421, 4204.043445748669, 4226.058541140229, 4248.07363653179, 4270.08873192335, 4292.103827314911, 4314.118922706471, 4335.614018760321, 4357.109114814171, 4378.604210868024, 4400.099306921875, 4421.594402975726, 4436.4814952977495, 4451.368587619773, 4466.255679941796, 4481.14277226382, 4496.029864585844, 4510.443064092275, 4524.856263598705, 4539.2694631051345, 4553.682662611565, 4568.095862117996, 4580.007614888059, 4591.919367658122, 4603.8311204281845, 4615.742873198248, 4627.654625968311, 4640.728647830679, 4653.8026696930465, 4666.876691555415, 4679.950713417783, 4693.024735280151, 4694.324048145994, 4695.623361011838, 4696.9226738776815, 4698.221986743526, 4699.5212996093705, 4698.264212737663, 4697.0071258659555, 4695.750038994251, 4694.492952122544, 4693.2358652508365, 4692.071209103126, 4690.906552955414, 4689.741896807701, 4688.577240659988, 4687.412584512276, 4684.678477345639, 4681.944370179004, 4679.210263012369, 4676.476155845733, 4673.742048679097, 4661.433474487217, 4649.124900295336, 4636.816326103455, 4624.507751911575, 4612.1991777196945, 4600.548138790793, 4588.8970998618925, 4577.24606093299, 4565.595022004089, 4553.943983075187, 4538.5669034680395, 4523.189823860894, 4507.812744253746, 4492.435664646599, 4477.058585039453, 4458.0160109631815, 4438.973436886911, 4419.930862810641, 4400.88828873437, 4381.8457146581, 4359.081284665123, 4336.316854672147, 4313.552424679171, 4290.787994686195, 4268.023564693219, 4247.784885296879, 4227.5462059005395, 4207.307526504201, 4187.068847107862, 4166.830167711522, 4145.00862510879, 4123.187082506056, 4101.365539903322, 4079.5439973005896, 4057.722454697857, 4043.418000005052, 4029.113545312246, 4014.809090619441, 4000.5046359266357, 3986.200181233831, 3963.727215606187, 3941.2542499785436, 3918.781284350901, 3896.3083187232583, 3873.835353095615, 3852.981568126567, 3832.127783157519, 3811.2739981884706, 3790.4202132194227, 3769.566428250374, 3750.671707111328, 3731.7769859722807, 3712.8822648332334, 3693.9875436941884, 3675.092822555141, 3662.1809031103835, 3649.2689836656236, 3636.3570642208647, 3623.4451447761057, 3610.533225331348, 3599.7974816266624, 3589.061737921977, 3578.3259942172917, 3567.5902505126064, 3556.854506807921, 3548.3619580553473, 3539.869409302773, 3531.376860550199, 3522.8843117976253, 3514.3917630450514, 3506.216787806789, 3498.0418125685264, 3489.8668373302635, 3481.6918620920005, 3473.5168868537385, 3467.895433696367, 3462.273980538996, 3456.6525273816246, 3451.0310742242527, 3445.4096210668818, 3436.9743996029833, 3428.539178139085, 3420.103956675187, 3411.6687352112876, 3403.2335137473897, 3391.145628528087, 3379.057743308784, 3366.969858089481, 3354.8819728701783, 3342.794087650876, 3325.840539435191, 3308.886991219507, 3291.933443003822, 3274.9798947881372, 3258.026346572453, 3236.7705327589442, 3215.514718945435, 3194.2589051319264, 3173.003091318417, 3151.7472775049077, 3128.6136531057955, 3105.480028706683, 3082.346404307571, 3059.2127799084583, 3036.0791555093456, 3021.8432544292464, 3007.6073533491467, 2993.3714522690466, 2979.1355511889465, 2964.8996501088473, 2949.6167298680352, 2934.333809627224, 2919.0508893864117, 2903.7679691456, 2888.485048904788, 2881.5032564216835, 2874.5214639385786, 2867.5396714554736, 2860.5578789723686, 2853.576086489264, 2853.0325061026037, 2852.488925715945, 2851.945345329286, 2851.4017649426264, 2850.858184555967, 2852.234036275991, 2853.6098879960164, 2854.985739716041, 2856.3615914360653, 2857.737443156089, 2855.7049592408043, 2853.67247532552, 2851.639991410235, 2849.6075074949504, 2847.575023579665, 2844.651558037113, 2841.728092494561, 2838.804626952009, 2835.881161409456, 2832.9576958669045, 2826.779991294136, 2820.6022867213665, 2814.424582148598, 2808.246877575829, 2802.0691730030603, 2793.2943178803584, 2784.519462757657, 2775.7446076349543, 2766.9697525122524, 2758.194897389551, 2747.829970246072, 2737.465043102593, 2727.100115959114, 2716.735188815636, 2706.370261672157, 2688.929122951847, 2671.4879842315368, 2654.0468455112273, 2636.6057067909164, 2619.1645680706065, 2592.642032893338, 2566.11949771607, 2539.596962538801, 2513.074427361533, 2486.5518921842645, 2460.494701064606, 2434.437509944948, 2408.3803188252896, 2382.323127705631, 2356.265936585973, 2332.8451544499835, 2309.4243723139944, 2286.003590178005, 2262.582808042016, 2239.1620259060264, 2221.086770369057, 2203.011514832087, 2184.936259295117, 2166.8610037581475, 2148.785748221178, 2134.0808227944112, 2119.3758973676445, 2104.6709719408773, 2089.966046514111, 2075.2611210873442, 2060.926656775945, 2046.5921924645447, 2032.257728153145, 2017.9232638417448, 2003.5887995303456, 1989.5399210842459, 1975.4910426381464, 1961.4421641920474, 1947.3932857459479, 1933.3444072998486, 1919.9556612574625, 1906.566915215076, 1893.1781691726894, 1879.789423130304, 1866.400677087917, 1856.0951793299066, 1845.7896815718962, 1835.4841838138848, 1825.1786860558746, 1814.8731882978634, 1809.634108554508, 1804.395028811153, 1799.1559490677978, 1793.9168693244424, 1788.6777895810876, 1785.2486221004453, 1781.819454619803, 1778.3902871391613, 1774.9611196585197, 1771.5319521778774, 1769.1173101966156, 1766.702668215354, 1764.2880262340925, 1761.8733842528304, 1759.4587422715686]
        print(clf2.predict([test_sample]))

        #chicken
        test_sample = [1591.9145070154,1637.8132917171,1683.7120764188,1729.6108611204,1775.5096458221,1821.4084305237,1857.9488479302,1894.4892653366,1931.029682743,1967.5701001495,2004.1105175559,2014.4107268155,2024.7109360751,2035.0111453348,2045.3113545944,2055.611563854,2037.635930597,2019.6602973399,2001.6846640829,1983.7090308259,1965.7333975689,1924.5595846543,1883.3857717397,1842.2119588252,1801.0381459106,1759.864332996,1704.2406584839,1648.6169839718,1592.9933094598,1537.3696349477,1481.7459604356,1420.6291677824,1359.5123751292,1298.3955824761,1237.2787898229,1176.1619971697,1120.9441616806,1065.7263261915,1010.5084907024,955.2906552133,900.0728197242,855.55725186,811.0416839958,766.5261161316,722.0105482674,677.4949804032,649.5977855201,621.700590637,593.8033957539,565.9062008709,538.0090059878,520.4873997613,502.9657935348,485.4441873083,467.9225810818,450.4009748553,452.5821729957,454.7633711361,456.9445692766,459.125767417,461.3069655575,475.5303419371,489.7537183166,503.9770946962,518.2004710758,532.4238474554,559.5842745396,586.7447016238,613.905128708,641.0655557922,668.2259828764,706.2704776774,744.3149724783,782.3594672792,820.4039620801,858.448456881,904.5067368868,950.5650168927,996.6232968985,1042.6815769044,1088.7398569102,1148.656295366,1208.5727338219,1268.4891722777,1328.4056107336,1388.3220491894,1445.0237569503,1501.7254647111,1558.427172472,1615.1288802328,1671.8305879937,1730.8231739081,1789.8157598226,1848.8083457371,1907.8009316515,1966.793517566,2018.8423334867,2070.8911494074,2122.9399653281,2174.9887812488,2227.0375971696,2273.7000359503,2320.3624747311,2367.0249135119,2413.6873522927,2460.3497910735,2505.0603655165,2549.7709399595,2594.4815144025,2639.1920888455,2683.9026632885,2712.9276388869,2741.9526144853,2770.9775900837,2800.0025656821,2829.0275412805,2856.0718414927,2883.1161417049,2910.160441917,2937.2047421292,2964.2490423414,2988.2270489334,3012.2050555254,3036.1830621174,3060.1610687094,3084.1390753014,3106.6895433264,3129.2400113514,3151.7904793764,3174.3409474014,3196.8914154264,3217.5343476428,3238.1772798592,3258.8202120755,3279.4631442919,3300.1060765083,3321.0767217108,3342.0473669132,3363.0180121157,3383.9886573181,3404.9593025206,3420.9937882678,3437.0282740149,3453.0627597621,3469.0972455093,3485.1317312565,3500.0229529327,3514.914174609,3529.8053962852,3544.6966179615,3559.5878396377,3572.733975039,3585.8801104403,3599.0262458416,3612.1723812428,3625.3185166441,3642.0893956605,3658.8602746769,3675.6311536933,3692.4020327097,3709.1729117262,3712.3016730343,3715.4304343425,3718.5591956507,3721.6879569589,3724.8167182671,3725.3869117711,3725.957105275,3726.527298779,3727.097492283,3727.6676857869,3733.6117282601,3739.5557707333,3745.4998132064,3751.4438556796,3757.3878981527,3759.8540852565,3762.3202723602,3764.786459464,3767.2526465677,3769.7188336714,3772.6457038212,3775.5725739709,3778.4994441207,3781.4263142704,3784.3531844202,3777.4603317152,3770.5674790102,3763.6746263052,3756.7817736002,3749.8889208952,3742.4204270278,3734.9519331604,3727.483439293,3720.0149454256,3712.5464515582,3699.8328373076,3687.1192230569,3674.4056088062,3661.6919945555,3648.9783803048,3632.3003451765,3615.6223100482,3598.9442749199,3582.2662397916,3565.5882046634,3549.1507001338,3532.7131956042,3516.2756910746,3499.8381865451,3483.4006820155,3466.5347635784,3449.6688451413,3432.8029267041,3415.937008267,3399.0710898299,3388.2148592597,3377.3586286894,3366.5023981192,3355.646167549,3344.7899369788,3328.8757855866,3312.9616341944,3297.0474828022,3281.1333314101,3265.2191800179,3251.553664915,3237.8881498121,3224.2226347092,3210.5571196063,3196.8916045034,3184.1799947495,3171.4683849956,3158.7567752416,3146.0451654877,3133.3335557338,3124.1857497217,3115.0379437095,3105.8901376974,3096.7423316852,3087.5945256731,3077.6258688183,3067.6572119636,3057.6885551089,3047.7198982541,3037.7512413994,3030.8987642913,3024.0462871832,3017.193810075,3010.3413329669,3003.4888558588,2997.3407219347,2991.1925880107,2985.0444540866,2978.8963201626,2972.7481862385,2968.7069429897,2964.665699741,2960.6244564922,2956.5832132434,2952.5419699946,2951.0251047659,2949.5082395371,2947.9913743084,2946.4745090796,2944.9576438509,2942.9738090401,2940.9899742294,2939.0061394186,2937.0223046079,2935.0384697971,2927.3847814918,2919.7310931864,2912.077404881,2904.4237165757,2896.7700282703,2881.6010429378,2866.4320576053,2851.2630722728,2836.0940869402,2820.9251016077,2804.3849572366,2787.8448128656,2771.3046684945,2754.7645241234,2738.2243797524,2726.3816528194,2714.5389258865,2702.6961989535,2690.8534720206,2679.0107450877,2661.4907149356,2643.9706847835,2626.4506546315,2608.9306244794,2591.4105943274,2577.0205638917,2562.630533456,2548.2405030204,2533.8504725847,2519.460442149,2510.9691873514,2502.4779325538,2493.9866777562,2485.4954229586,2477.004168161,2469.0719370616,2461.1397059623,2453.2074748629,2445.2752437635,2437.3430126641,2431.3591002287,2425.3751877933,2419.3912753579,2413.4073629225,2407.4234504871,2409.1771814339,2410.9309123807,2412.6846433275,2414.4383742743,2416.1921052211,2415.891968224,2415.591831227,2415.2916942299,2414.9915572329,2414.6914202359,2412.9113207873,2411.1312213387,2409.3511218901,2407.5710224416,2405.790922993,2403.9073097908,2402.0236965886,2400.1400833865,2398.2564701843,2396.3728569821,2388.4150194375,2380.4571818929,2372.4993443483,2364.5415068037,2356.5836692591,2339.6193515525,2322.6550338458,2305.6907161392,2288.7263984325,2271.7620807259,2249.6079940531,2227.4539073803,2205.2998207075,2183.1457340347,2160.9916473618,2136.9906586447,2112.9896699275,2088.9886812103,2064.9876924932,2040.986703776,2019.1352003928,1997.2836970097,1975.4321936265,1953.5806902433,1931.7291868601,1915.8230314632,1899.9168760662,1884.0107206692,1868.1045652722,1852.1984098752,1840.2738001279,1828.3491903806,1816.4245806333,1804.499970886,1792.5753611386,1783.0418752349,1773.5083893311,1763.9749034273,1754.4414175235,1744.9079316197,1737.8979118621,1730.8878921045,1723.8778723469,1716.8678525893,1709.8578328317,1708.1498979468,1706.4419630618,1704.7340281768,1703.0260932919,1701.3181584069,1703.5153868995,1705.712615392,1707.9098438846,1710.1070723771,1712.3043008697,1714.432539052,1716.5607772344,1718.6890154167,1720.817253599,1722.9454917814,1724.972944623,1727.0003974646,1729.0278503062,1731.0553031478,1733.0827559894]
        print(clf2.predict([test_sample]))
        '''
        #print(request_data['id'])
        #data = json.load(request_data)
        #fields = ['first', 'second', 'third']
        #with open(r'./static/datapi.csv', 'a') as f:
        #    writer = csv.writer(f)
        #    writer.writerow(fields)
        #return redirect(url_for('uploaded', filename=filename, import_option=import_option, model_name=model_name))
    return render_template("index.html")



@app.route('/about')
def about():
    return render_template("about.html")

@app.route('/contact')
def contact():
    return render_template("contact.html")


if __name__ == '__main__':
    app.run(port=5000, debug=True)
    # wrap Flask application with engineio's middleware
    #app = socketio.Middleware(sio, app)
    #app.run(port=5000, debug=True)
    # deploy as an eventlet WSGI server
    #eventlet.wsgi.server(eventlet.listen(('', 8000)), app)
